---
import BaseLayout from '../../layouts/BaseLayout.astro';

const { site, base } = Astro.site ? { site: Astro.site, base: import.meta.env.BASE_URL } : { site: '', base: '/' };

// Helper function to construct proper asset paths
const getAssetPath = (imagePath) => {
  if (!imagePath) return '';
  const cleanBase = base.endsWith('/') ? base.slice(0, -1) : base;
  const cleanImage = imagePath.startsWith('/') ? imagePath : `/${imagePath}`;
  return cleanBase + cleanImage;
};

// Case study data
const caseStudy = {
  title: "Release Cycle Optimization",
  description: "Transforming development velocity by reducing release cycles from 6-8 weeks to 1-2 weeks while improving quality and team morale.",
  company: "Aibidia",
  role: "Product Manager & Team Lead",
  timeline: "3 months",
  outcome: "75% reduction in release cycles, contributing to 115% YoY growth",
  publishedDate: new Date("2025-10-27")
};
---

<BaseLayout title={caseStudy.title} description={caseStudy.description}>
  <article class="py-8 md:py-12" style="background-color: var(--color-background);">
    <!-- Back Button -->
    <div class="max-w-[1200px] mx-auto px-[1.1rem] mb-2 pb-4 md:pb-0">
      <div class="flex justify-end">
        <a href={getAssetPath('/') + '?from=case-study#featured-work'} class="inline-flex items-center justify-center w-12 h-12 rounded-full border border-white/30 bg-transparent hover:border-white/60 hover:bg-white/10 transition-all duration-300 group">
          <svg class="w-5 h-5 text-white/60 group-hover:text-white/90 transition-colors duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </a>
      </div>
    </div>

    <!-- Hero Section -->
    <div class="max-w-4xl mx-auto px-[1.1rem] mb-16">
      <div class="text-center mb-8">
        <h1 class="text-4xl md:text-5xl font-medium mb-6 gradient-heading">{caseStudy.title}</h1>
        <p class="text-xl leading-relaxed max-w-3xl mx-auto" style="color: var(--color-text-secondary);">
          {caseStudy.description}
        </p>
      </div>

      <!-- Project Meta -->
      <div class="grid grid-cols-1 md:grid-cols-4 gap-6 p-6 rounded-lg" style="background-color: var(--color-surface);">
        <div>
          <h3 class="text-sm font-medium mb-2" style="color: var(--color-text-muted);">COMPANY</h3>
          <p class="font-medium" style="color: var(--color-text-primary);">{caseStudy.company}</p>
        </div>
        <div>
          <h3 class="text-sm font-medium mb-2" style="color: var(--color-text-muted);">ROLE</h3>
          <p class="font-medium" style="color: var(--color-text-primary);">{caseStudy.role}</p>
        </div>
        <div>
          <h3 class="text-sm font-medium mb-2" style="color: var(--color-text-muted);">TIMELINE</h3>
          <p class="font-medium" style="color: var(--color-text-primary);">{caseStudy.timeline}</p>
        </div>
        <div>
          <h3 class="text-sm font-medium mb-2" style="color: var(--color-text-muted);">OUTCOME</h3>
          <p class="font-medium" style="color: var(--color-text-primary);">{caseStudy.outcome}</p>
        </div>
      </div>

      <!-- Tags -->
      <div class="flex flex-wrap gap-2 mt-6 justify-center">
        {["Process Design", "Team Leadership", "Agile Transformation", "Short-term", "Growth Impact"].map((tag) => (
          <span class="px-3 py-1 text-sm rounded-full" style="background-color: var(--color-surface); color: var(--color-text-muted);">
            {tag}
          </span>
        ))}
      </div>
    </div>

    <!-- Challenge Section -->
    <section class="py-16" style="background-color: var(--color-surface); border-top: 1px solid; border-image: linear-gradient(90deg, rgb(15 118 110), rgb(88 28 135)) 1;">
      <div class="max-w-[1200px] mx-auto px-[1.1rem]">
        <div class="max-w-4xl mx-auto">
          <h2 class="text-3xl font-medium mb-6 gradient-heading">The Challenge</h2>
          <div class="case-study-content">
            <p class="text-lg leading-relaxed mb-4" style="color: var(--color-text-secondary);">
              Aibidia's compliance product was experiencing significant development bottlenecks that were impacting business growth and client satisfaction:
            </p>
            <ul class="space-y-3 text-base" style="color: var(--color-text-secondary);">
              <li><strong style="color: var(--color-text-primary);">Lengthy release cycles</strong> of 6-8 weeks were slowing feature delivery and improvements to enterprise clients.</li>
              <li><strong style="color: var(--color-text-primary);">Manual processes</strong> created dependencies and increased risk of deployment issues.</li>
              <li><strong style="color: var(--color-text-primary);">Lack of standardized practices</strong> across the 10-person development team.</li>
              <li><strong style="color: var(--color-text-primary);">Communication gaps</strong> between development, product, and client-facing teams.</li>
              <li><strong style="color: var(--color-text-primary);">Growing client expectations</strong> for faster feature delivery in a competitive SaaS market.</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- My Role Section -->
    <section class="py-16" style="background-color: var(--color-background);">
      <div class="max-w-[1200px] mx-auto px-[1.1rem]">
        <div class="max-w-4xl mx-auto">
          <h2 class="text-3xl font-medium mb-6 gradient-heading">My Role</h2>
          <div class="case-study-content">
            <p class="text-lg leading-relaxed" style="color: var(--color-text-secondary);">
              As Product Manager and Team Lead, I owned both the strategy and execution of optimizing our development and release processes. Together with the 10-person team and engineering leadership, we identified bottlenecks, redesigned workflows, and implemented sustainable practices that would scale with our rapid growth. I facilitated regular retrospectives where the team collaboratively identified challenges in our ways of working and experimented with new practices to improve our processes.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Design Approach Section -->
    <section class="py-16" style="background-color: var(--color-surface);">
      <div class="max-w-[1200px] mx-auto px-[1.1rem]">
        <div class="max-w-4xl mx-auto">
          <h2 class="text-3xl font-medium mb-6 gradient-heading">Approach</h2>
          <div class="case-study-content">
            <h3 class="text-xl font-medium mb-3" style="color: var(--color-text-primary);">1. Process Audit and Analysis</h3>
            <ul class="space-y-2 mb-6 text-base" style="color: var(--color-text-secondary);">
              <li>Mapped existing release workflows and identified key bottlenecks.</li>
              <li>Conducted team retrospectives to understand pain points and blockers.</li>
              <li>Analyzed cycle time data and deployment frequency patterns.</li>
              <li>Benchmarked against industry standards for SaaS development practices.</li>
            </ul>

            <h3 class="text-xl font-medium mb-3" style="color: var(--color-text-primary);">2. Stakeholder Alignment</h3>
            <ul class="space-y-2 mb-6 text-base" style="color: var(--color-text-secondary);">
              <li>Partnered with senior leadership to align process improvements with business goals.</li>
              <li>Facilitated cross-functional workshops to design new workflows.</li>
              <li>Established clear success metrics tied to business outcomes.</li>
              <li>Created communication strategies for managing client expectations during transition.</li>
            </ul>

            <h3 class="text-xl font-medium mb-3" style="color: var(--color-text-primary);">3. Iterative Implementation</h3>
            <ul class="space-y-2 text-base" style="color: var(--color-text-secondary);">
              <li>Introduced prioritization framework (ICE) for managing improvement requests.</li>
              <li>Together with the team, redesigned development workflows with shorter feedback loops.</li>
              <li>Together with QA specialist, standardized release communications through enhanced release notes.</li>
              <li>Led the team's transition from Scrum to Kanban, enabling continuous delivery with regular product reviews.</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Implementation & Results Section -->
    <section class="py-16" style="background-color: var(--color-background);">
      <div class="max-w-[1200px] mx-auto px-[1.1rem]">
        <div class="max-w-4xl mx-auto">
          <h2 class="text-3xl font-medium mb-6 gradient-heading">Implementation & Results</h2>
          <div class="case-study-content">
            <h3 class="text-xl font-medium mb-3" style="color: var(--color-text-primary);">Immediate Outcomes</h3>
            <ul class="space-y-2 mb-6 text-base" style="color: var(--color-text-secondary);">
              <li><strong style="color: var(--color-text-primary);">75% reduction</strong> in release cycles from 6-8 weeks to 1-2 weeks.</li>
              <li><strong style="color: var(--color-text-primary);">Improved deployment reliability</strong> with standardized processes.</li>
              <li><strong style="color: var(--color-text-primary);">Enhanced team collaboration</strong> through better communication practices.</li>
            </ul>

            <h3 class="text-xl font-medium mb-3" style="color: var(--color-text-primary);">Business Impact</h3>
            <ul class="space-y-2 mb-6 text-base" style="color: var(--color-text-secondary);">
              <li><strong style="color: var(--color-text-primary);">Contributed to 115% YoY growth</strong> through faster feature delivery.</li>
              <li><strong style="color: var(--color-text-primary);">Increased client satisfaction</strong> with more frequent updates.</li>
              <li><strong style="color: var(--color-text-primary);">Improved team morale</strong> through clearer processes and reduced stress.</li>
            </ul>

            <h3 class="text-xl font-medium mb-3" style="color: var(--color-text-primary);">Long-term Benefits</h3>
            <ul class="space-y-2 text-base" style="color: var(--color-text-secondary);">
              <li><strong style="color: var(--color-text-primary);">Scalable processes</strong> that supported continued team growth.</li>
              <li><strong style="color: var(--color-text-primary);">Better predictability</strong> in feature delivery timelines.</li>
              <li><strong style="color: var(--color-text-primary);">Foundation for continuous improvement</strong> culture.</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Design Lessons Section -->
    <section class="py-16" style="background-color: var(--color-surface);">
      <div class="max-w-[1200px] mx-auto px-[1.1rem]">
        <div class="text-center max-w-4xl mx-auto">
          <h2 class="text-3xl font-medium mb-8 gradient-heading">Lessons Learned</h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div class="p-6 rounded-lg text-left" style="background-color: var(--color-background);">
              <h3 class="text-xl font-medium mb-3" style="color: var(--color-text-primary);">Process Design is Product Design</h3>
              <p class="text-base leading-relaxed" style="color: var(--color-text-secondary);">
                Treating internal workflows with the same rigor as user-facing features created measurable business value and improved team experience.
              </p>
            </div>
            <div class="p-6 rounded-lg text-left" style="background-color: var(--color-background);">
              <h3 class="text-xl font-medium mb-3" style="color: var(--color-text-primary);">Change Management is Critical</h3>
              <p class="text-base leading-relaxed" style="color: var(--color-text-secondary);">
                Success required not just new processes, but careful attention to team adoption, communication, and gradual implementation to maintain momentum.
              </p>
            </div>
            <div class="p-6 rounded-lg text-left" style="background-color: var(--color-background);">
              <h3 class="text-xl font-medium mb-3" style="color: var(--color-text-primary);">Metrics Drive Behavior</h3>
              <p class="text-base leading-relaxed" style="color: var(--color-text-secondary);">
                Establishing clear success metrics and regular reviews created accountability and helped sustain improvements over time.
              </p>
            </div>
            <div class="p-6 rounded-lg text-left" style="background-color: var(--color-background);">
              <h3 class="text-xl font-medium mb-3" style="color: var(--color-text-primary);">Cross-functional Collaboration</h3>
              <p class="text-base leading-relaxed" style="color: var(--color-text-secondary);">
                The biggest improvements came from breaking down silos between development, product, and client-facing teams through shared processes and communication standards.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Navigation -->
    <div class="max-w-4xl mx-auto px-[1.1rem] mt-16">
      <div class="border-t pt-8" style="border-color: var(--color-border);">
        <div class="flex justify-between items-center">
          <a href={getAssetPath('/') + '?from=case-study#featured-work'} class="inline-flex items-center gap-2 text-base font-medium transition-colors hover:brightness-150" style="color: var(--color-accent);">
            <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
            </svg>
            Back to Featured Work
          </a>
          <div class="text-sm" style="color: var(--color-text-muted);">
            Published {caseStudy.publishedDate.toLocaleDateString('en-US', {
              year: 'numeric',
              month: 'long',
              day: 'numeric'
            })}
          </div>
        </div>
      </div>
    </div>
  </article>
</BaseLayout>

<style>
  .case-study-content {
    color: var(--color-text-secondary);
  }

  .case-study-content h2 {
    color: var(--color-text-primary);
    font-size: 1.75rem;
    font-weight: 600;
    margin-top: 3rem;
    margin-bottom: 1rem;
  }

  .case-study-content h3 {
    color: var(--color-text-primary);
    font-size: 1.5rem;
    font-weight: 600;
    margin-top: 2rem;
    margin-bottom: 0.75rem;
  }

  .case-study-content h4 {
    color: var(--color-text-primary);
    font-size: 1.25rem;
    font-weight: 600;
    margin-top: 1.5rem;
    margin-bottom: 0.5rem;
  }

  .case-study-content p {
    line-height: 1.7;
    margin-bottom: 1.5rem;
  }

  .case-study-content ul, .case-study-content ol {
    margin-bottom: 1.5rem;
  }

  .case-study-content li {
    margin-bottom: 0.5rem;
  }

  .case-study-content strong {
    color: var(--color-text-primary);
    font-weight: 600;
  }
</style>
